<div class="tax-selection">
  <div class="tax-btns">
    <button class="tax-btn active" (click)="changeTax($event, 1)">
      דלק <br />
      <span class="tax-cng">({{ formatNum(taxes[1].diff) }}₪)</span>
    </button>
    <div>
      <button class="status-btn status-1" (click)="changeStatus($event, 1, 2)">
        ביטול המס <br />
        <span class="tax-cng">המס יוריד {{ formatNum(taxes[1].total) }}₪</span>
      </button>
      <button class="status-btn status-1" (click)="changeStatus($event, 1, 1)">
        התעלמות מהשינויים <br />
        <span class="tax-cng">השינויים שנעשו במס לא ישפיעו על המאזן</span>
      </button>
    </div>
  </div>

  <div class="tax-btns">
    <button class="tax-btn" (click)="changeTax($event, 2)">
      מע"מ <br />
      <span class="tax-cng">({{ formatNum(taxes[2].diff) }}₪)</span>
    </button>
    <div>
      <button class="status-btn status-2" (click)="changeStatus($event, 2, 2)">
        ביטול המס<br />
        <span class="tax-cng">המס יוריד {{ formatNum(taxes[2].total) }}₪</span>
      </button>
      <button class="status-btn status-2" (click)="changeStatus($event, 2, 1)">
        התעלמות מהשינויים <br />
        <span class="tax-cng">השינויים שנעשו במס לא ישפיעו על המאזן</span>
      </button>
    </div>
  </div>

  <div class="tax-btns">
    <button class="tax-btn" (click)="changeTax($event, 3)">
      טבק <br />
      <span class="tax-cng">({{ formatNum(taxes[3].diff) }}₪)</span>
    </button>
    <div>
      <button class="status-btn status-3" (click)="changeStatus($event, 3, 2)">
        ביטול המס<br />
        <span class="tax-cng">המס יוריד {{ formatNum(taxes[3].total) }}₪</span>
      </button>
      <button class="status-btn status-3" (click)="changeStatus($event, 3, 1)">
        התעלמות מהשינויים <br />
        <span class="tax-cng">השינויים שנעשו במס לא ישפיעו על המאזן</span>
      </button>
    </div>
  </div>

  <div class="tax-btns other">
    <button class="tax-btn" (click)="changeTax($event, 4)">
      שונות <br />
      <span class="tax-cng">({{ formatNum(taxes[4].diff) }})₪</span>
    </button>
  </div>
</div>

<div class="tax-input">
  <div [hidden]="!(currTax == 'delek')">
    <p>
      <app-single-value-tax
        (onChange)="taxes[1].diff = $event.value; taxes[1].cng = $event.rate"
        (onLoad)="taxes[1].total = $event.total"
        tax_type="delek"
      ></app-single-value-tax>
    </p>
  </div>

  <div [hidden]="!(currTax == 'maam')">
    <p>
      <app-single-value-tax
        (onChange)="taxes[2].diff = $event.value; taxes[2].cng = $event.rate"
        (onLoad)="taxes[2].total = $event.total"
        tax_type="maam"
      ></app-single-value-tax>
    </p>
  </div>

  <div [hidden]="!(currTax == 'tabak')">
    <p>
      <app-single-value-tax
        (onChange)="taxes[3].diff = $event.value; taxes[3].cng = $event.rate"
        (onLoad)="taxes[3].total = $event.total"
        tax_type="tabak"
      ></app-single-value-tax>
    </p>
  </div>

  <div [hidden]="!(currTax == 'other')">
    <p>Other taxes here</p>
  </div>
</div>
<div class="tax-result">
  <p>
    הכנסות נוכחיות <br />
    <span id="curr-inc">{{ formatNum(totalIncome) }}</span>₪
  </p>
  <p>
    הפרש <br />
    <span id="diff">{{ formatNum(totalDiff()) }}</span>₪
  </p>
  <p>
    הכנסות חדשות <br />
    <span id="new-inc">{{ formatNum(totalIncome + totalDiff()) }}</span>₪
  </p>
</div>
<div style="text-align: center">
  <p>
    [הנתונים נכונים לשנת 2020]
    <span class="tooltip-container">
      (?)
      <span class="tooltip-text">טקסט</span>
    </span>
  </p>
</div>
